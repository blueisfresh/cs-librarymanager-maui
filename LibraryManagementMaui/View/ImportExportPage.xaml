<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="LibraryManagementMaui.View.ImportExportPage"
             Title="ImportExportPage">
    <ContentPage.Content>
        <Grid Margin="20">
            <!-- Title -->
            <Label Text="Import / Export von Daten"
             FontAttributes="Bold"
             FontSize="20"
             HorizontalOptions="Center"
             VerticalOptions="Start"
             Margin="0,10,0,20"/>

            <!-- Export Section -->
            <VerticalStackLayout VerticalOptions="Start" Margin="10,60,0,0">
                <Label Text="Exportieren:" FontAttributes="Bold" Margin="0,0,0,5"/>

                <!-- CheckBox and Label for "Bücher" -->
                <HorizontalStackLayout Margin="10,0,0,0" VerticalOptions="Center">
                    <CheckBox IsChecked="{Binding ExportBooks}" />
                    <Label Text="Bücher" VerticalOptions="Center" />
                </HorizontalStackLayout>

                <!-- CheckBox and Label for "Schüler" -->
                <HorizontalStackLayout Margin="10,0,0,0" VerticalOptions="Center">
                    <CheckBox IsChecked="{Binding ExportStudents}" />
                    <Label Text="Schüler" VerticalOptions="Center" />
                </HorizontalStackLayout>

                <!-- Fixed file format selection for JSON -->
                <HorizontalStackLayout Margin="0,10,0,0">
                    <Label Text="Datei Format:" VerticalOptions="Center" Margin="0,0,10,0"/>
                    <Label Text="JSON" VerticalOptions="Center"/>
                </HorizontalStackLayout>

                <!-- Export Button -->
                <Button Text="Exportieren"
                WidthRequest="100"
                HorizontalOptions="Center"
                Margin="0,10,0,0"
                Command="{Binding ExportCommand}"/>
            </VerticalStackLayout>

            <!-- Import Section -->
            <VerticalStackLayout VerticalOptions="Start" Margin="10,240,0,0">
                <Label Text="Importieren:" FontAttributes="Bold" Margin="0,0,0,5"/>

                <!-- Import Target Selection (Bücher/Schüler) -->
                <HorizontalStackLayout Margin="0,10,0,0">
                    <Label Text="Importieren als:" VerticalOptions="Center" Margin="0,0,10,0"/>
                    <Picker WidthRequest="100" SelectedItem="{Binding SelectedImportOption}">
                        <Picker.Items>
                            <x:String>Bücher</x:String>
                            <x:String>Schüler</x:String>
                        </Picker.Items>
                    </Picker>
                </HorizontalStackLayout>

                <!-- File Selection and Browse Button -->
                <HorizontalStackLayout Margin="0,10,0,0">
                    <Label Text="Datei auswählen:" VerticalOptions="Center" Margin="0,0,10,0"/>
                    <Entry WidthRequest="150"
                 IsReadOnly="True"
                 Text="{Binding SelectedImportFilePath}"/>
                    <Button Text="Durchsuchen"
                  WidthRequest="80"
                  Margin="5,0,0,0"
                  Command="{Binding ImportCommand}"/>
                </HorizontalStackLayout>

                <!-- Fixed file format selection for JSON -->
                <HorizontalStackLayout Margin="0,10,0,0">
                    <Label Text="Datei Format:" VerticalOptions="Center" Margin="0,0,10,0"/>
                    <Label Text="JSON" VerticalOptions="Center"/>
                </HorizontalStackLayout>

                <!-- Import Button -->
                <Button Text="Importieren"
                WidthRequest="100"
                HorizontalOptions="Center"
                Margin="0,10,0,0"
                Command="{Binding ImportCommand}"/>
            </VerticalStackLayout>

            <!-- Back to Main Menu Button -->
            <Button Text="Zurück zum Hauptmenü"
              WidthRequest="180"
              HorizontalOptions="Center"
              VerticalOptions="End"
              Margin="0,10,0,0"/>
        </Grid>
    </ContentPage.Content>
</ContentPage>